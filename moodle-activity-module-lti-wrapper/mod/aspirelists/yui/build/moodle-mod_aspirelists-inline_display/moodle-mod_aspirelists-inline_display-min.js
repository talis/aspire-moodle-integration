YUI.add("moodle-mod_aspirelists-inline_display",function(e,t){M.mod_aspirelists=M.mod_aspirelists||{};var n=M.mod_aspirelists.inline_display={};n.init_view=function(t,n){e.delegate("click",this.toggle_inline_list,e.config.doc,".aspirelists_inline_readings_toggle .activityinstance a",this),e.on("domready",this.resize_embedded_lists),e.on("resize",this.resize_embedded_lists),e.on("transitionend",this.resize_embedded_lists),this.accordionOpen=t,this.accordionClosed=n},n.toggleAccordionIndicator=function(e,t){e.ancestor(".aspirelists").all("span.aspirelists_inline_accordion").each(function(e){e.setHTML(t)})},n.toggle_inline_list=function(e){e.preventDefault();var t=e.target.ancestor(".aspirelists");t&&t.all(".aspirelists_inline_list").each(function(e){if(e.getStyle("display")==="none"){if(e.getAttribute("src")===""){var t=e.getData("intended-src");e.setAttribute("src",t)}e.show(),n.toggleAccordionIndicator(e,n.accordionOpen)}else e.hide(),n.toggleAccordionIndicator(e,n.accordionClosed)})},n.resize_embedded_lists=function(){e.all(".aspirelists_inline_list").each(function(e){var t=e.ancestor(".aspirelists").get("offsetWidth"),n=e.ancestor(".aspirelists").getComputedStyle("margin"),r=e.ancestor(".aspirelists").getComputedStyle("padding-left");n&&(t-=parseFloat(n,10)*2),r&&(t-=parseFloat(r,10)*2);var i=e.ancestor(".mod-indent-outer");if(i){var s=i.getComputedStyle("padding-left"),o=e.getComputedStyle("margin-left");o&&(t-=parseFloat(o,10)*2),s&&(t-=parseFloat(s,10)*2)}e.setAttribute("width",t)})}},"@VERSION@",{requires:["base","node","event","event-delegate"]});
